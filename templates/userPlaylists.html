<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{username}}'s Playlists</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <div id="user-playlists">        
        <nav class="navbar navbar-light bg-light">
            
            {% for message in get_flashed_messages() %}
                <p>{{ message }}</p>
            {% endfor %}

            <form class="form-inline" method="GET" action="{{ url_for('searchItem') }}">
                <input name="search-results" class="form-control mr-sm-2" type="search" size="25" placeholder="Artists, Tracks, or Albums"
                    aria-label="Search">
                <button class="btn btn-primary" type="submit">Search</button>
            </form>
        </nav>
        <h2>{{username}}'s Playlists</h2>
        <p>You have {{ playlist_data|length }} custom playlists</p>
        <p><strong>Explore each playlist!</strong></p>

        <div id="top-track-btn" class="top-track-btn">
            <p>Want to view your top tracks? </p>
            <a href="/user/top_tracks" class="button">
                <button type="button" class="btn btn-primary">Your Top Tracks</button>
            </a>
        </div>
            {% for playlist in playlist_data %}
                {% set playlist_id = playlist['playlist_id'] %}
                {% set playlist_name = playlist['playlist_name'] %}
                {% set playlist_image = playlist['playlist_image'] %} 
                <div id="playlist-content" class="playlist-content">
                    <ul style="list-style-type: none;">
                        <li data-toggle="collapse"  class="list-playlist-data">
                            <span><strong>{{ playlist_name }}</strong></span>
                            <div class="text-center">
                                <img src="{{ playlist_image }}" style="max-width: 125px;" alt="{{ playlist_name }}" class="rounded">
                            </div>
                        </li>
                    </ul>
                </div>
            </div>  
            {% endfor %}
    </div>
</head>
<body>
</body>
</html>

